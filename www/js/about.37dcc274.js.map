{"version":3,"sources":["webpack:///./src/views/About.vue?3e92","webpack:///./src/assets/1.jpg","webpack:///./src/views/About.vue?29cd","webpack:///./node_modules/canvas-image-pixel/index.js","webpack:///./src/views/About.vue?be4f","webpack:///./src/views/About.vue?c343","webpack:///./src/views/About.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","attrs","compose","fns","reverse","reduce","fn1","fn2","args","reflectionUpDown","imgData","num","height","data","map","item","index","arr","width","rows","Math","ceil","columnResidue","rgbaResidue","ImageData","reflectionLeftRight","columns","redColor","greenColor","blueColor","curtain","intFloor","floor","gray","_num","mosaic","name","text","canvas","document","getElementById","ctx","getContext","setTimeout","img","startY","textAlign","textBaseline","font","fillStyle","drawImage","fillText","getImageData","putImageData","component"],"mappings":"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","file":"js/about.37dcc274.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=style&index=0&lang=less&\"","module.exports = __webpack_public_path__ + \"img/1.26e3113a.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('canvas',{attrs:{\"id\":\"image-canvas\",\"width\":\"1940\",\"height\":\"1200\"}}),_c('img',{attrs:{\"src\":require(\"../assets/1.jpg\"),\"hidden\":\"\",\"id\":\"img\"}})])}]\n\nexport { render, staticRenderFns }","/**\n * @description compose函数\n * @param { array } fns 函数名(从左到右按顺序执行)\n */\nexport const compose = (...fns) => {\n  return fns.reverse().reduce((fn1, fn2) => {\n    return (...args) => {\n      if (typeof fn1(...args) === 'function' && typeof fn2(...args) === 'function') {\n        return fn2()(fn1()(...args))\n      } else if (typeof fn1(...args) === 'function' && typeof fn2(...args) !== 'function') {\n        return fn2(fn1()(...args))\n      } else if (typeof fn1(...args) !== 'function' && typeof fn2(...args) === 'function') {\n        return fn2()(fn1(...args))\n      } else {\n        return fn2(fn1(...args))\n      }\n    }\n  })\n}\n\n/**\n * @description 上下倒影\n * @param { ImageData } imgData 图像对象\n * @param { number } num 处理后图像的高度\n * @returns { ImageData } 处理后的图像对象\n */\nexport const reflectionUpDown = (imgData, num = imgData.height) => {\n  const data = imgData.data.map((item, index, arr) => {\n    if (index < num * 4 * imgData.width) {\n      const rows = Math.ceil(index / (4 * imgData.width))\n      const columnResidue = Math.ceil((index % (imgData.width * 4)) / 4)\n      const rgbaResidue = index % 4\n      return arr[(imgData.height - rows) * 4 * imgData.width + columnResidue * 4 + rgbaResidue]\n    }\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 左右镜像\n * @param { ImageData } imgData 图像对象\n * @param { number } num 处理后图像的高度\n * @returns { ImageData } 处理后的图像对象\n */\nexport const reflectionLeftRight = (imgData, num = imgData.height) => {\n  const data = imgData.data.map((item, index, arr) => {\n    if (index < num * 4 * imgData.width) {\n      const columns = Math.ceil(index % (4 * imgData.width) / 4)\n      const rows = Math.ceil(index / (4 * imgData.width))\n      const rgbaResidue = index % 4\n      return arr[rows * 4 * imgData.width + (imgData.width - columns) * 4 + rgbaResidue]\n    }\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 反向\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const reverse = (imgData) => {\n  const data = imgData.data.map((item, index) => {\n    if ( index % 4 !== 3) return 255 - item\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n \n/**\n * @description 红色提取\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const redColor = (imgData) => {\n  const data = imgData.data.map((item, index) => {\n    if ( index % 4 === 0) return 255\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n \n/**\n * @description 绿色提取\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const greenColor = (imgData) => {\n  const data = imgData.data.map((item, index) => {\n    if ( index % 4 === 1) return 255\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 蓝色提取\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const blueColor = (imgData) => {\n  const data = imgData.data.map((item, index) => {\n    if ( index % 4 === 2) return 255\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 模糊\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const blur = (imgData) => {\n  const data = imgData.data.map((item, index, arr) => {\n    if (index % 4 !== 3 & index > 3) return (arr[index - 4] + item + arr[index + 4]) / 3\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 模糊(固定10次)\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const blurBackup = (num = 10) => imgData => {\n  const fun = imgdata => {\n    return imgdata.map((item, index, arr) => {\n      if (index % 4 !== 3 & index > 3) return (arr[index - 4] + item + arr[index + 4]) / 3\n      return item\n    })\n  }\n  const fns = []\n  for (let i = 0; i < num; i++) {\n    fns.push(fun)\n  }\n  const data = compose(...fns)(imgData.data)\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 门帘\n * @param { ImageData } imgData 图像对象\n * @param { number } num 门帘间隔距离\n * @returns { ImageData } 处理后的图像对象\n */\nexport const curtain = (num = 10) => imgData => {\n  const data = imgData.data.map((item, index) => {\n    const intFloor = Math.floor(index / 4)\n    // if (intFloor % num >= 0 && intFloor % num <= 10) return 0\n    if (intFloor % num === 0) return 0\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 灰度\n * @summary gray color = 0.299 × red color + 0.578 × green color + 0.114 * blue color\n * @param { ImageData } imgData 图像对象\n * @returns { ImageData } 处理后的图像对象\n */\nexport const gray = (imgData) => {\n  const data = imgData.data.map((item, index, arr) => {\n    const _num = Math.floor(index / 4) * 4\n    if ( index % 4 !== 3) return 0.299 * arr[_num] + 0.578 * arr[_num + 1] + 0.114 * arr[_num + 2]\n    return item\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n\n/**\n * @description 马赛克\n * @param { ImageData } imgData 图像对象\n * @param { number } num 马赛克单元大小\n * @returns { ImageData } 处理后的图像对象\n */\nexport const mosaic = (num = 10) => imgData => {\n  const data = imgData.data.map((item, index, arr) => {\n    const rows = Math.floor(index / (num * 4 * imgData.width))\n    const columns = Math.floor(index % (4 * imgData.width) / (4 * num))\n    if (index % 4 === 0) return arr[(rows * imgData.width + columns) * 4 * num]\n    if (index % 4 === 1) return arr[(rows * imgData.width + columns) * 4 * num + 1]\n    if (index % 4 === 2) return arr[(rows * imgData.width + columns) * 4 * num + 2]\n    if (index % 4 === 3) return arr[(rows * imgData.width + columns) * 4 * num + 3]\n  })\n  return new ImageData(data, imgData.width, imgData.height);\n}\n","\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport {\n  compose,\n  reflectionUpDown,\n  reflectionLeftRight,\n  reverse,\n  redColor,\n  greenColor,\n  blueColor,\n  blur,\n  curtain,\n  gray,\n  mosaic,\n  blurBackup,\n} from 'canvas-image-pixel';\n\n@Component\nexport default class About extends Vue {\n  private arr: any[] = [\n    {\n      name: [],\n      text: '',\n    },\n    {\n      name: [reflectionLeftRight],\n      text: 'reflectionLeftRight',\n    },\n    {\n      name: [reverse],\n      text: 'reverse',\n    },\n    {\n      name: [reflectionUpDown],\n      text: 'reflectionUpDown',\n    },\n    {\n      name: [reflectionUpDown, reflectionLeftRight],\n      text: 'reflectionUpDown + reflectionLeftRight',\n    },\n    {\n      name: [gray],\n      text: 'gray',\n    },\n    {\n      name: [blueColor],\n      text: 'blueColor',\n    },\n    {\n      name: [redColor],\n      text: 'redColor',\n    },\n    {\n      name: [greenColor],\n      text: 'greenColor',\n    },\n    {\n      name: [curtain],\n      text: 'curtain',\n    },\n    {\n      name: [blur],\n      text: 'blur',\n    },\n    {\n      name: [mosaic],\n      text: 'mosaic',\n    },\n  ];\n\n  public mounted() {\n    const canvas: any = document.getElementById('image-canvas');\n    const ctx = canvas.getContext('2d');\n    setTimeout(() => {\n      const img = document.getElementById('img');\n      const width = 550;\n      const height = 290;\n      const startX = 240;\n      const startY = 240;\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'top';\n      ctx.font = 'bold 28px serif';\n      ctx.fillStyle = '#00ffff';\n      ctx.drawImage(img, 0, 0, 480, 221);\n      ctx.fillText('origin', 240, startY);\n      const imgData = ctx.getImageData(0, 0, 480, 221);\n      // all methods\n      // this.arr.forEach((item, index) => {\n      //   if (index > 0) {\n      //     const X = index % 3;\n      //     const Y = Math.floor(index / 3);\n      //     ctx.putImageData(compose(...item.name)(imgData), X * width, Y * height);\n      //     ctx.fillText(item.text, 240 + X * width, startY + Y * height);\n      //   }\n      // });\n      // test\n      ctx.fillText('reflectionUpDown', 240, startY + height);\n      ctx.putImageData(reflectionUpDown(imgData), 0, height);\n      ctx.fillText('reflectionLeftRight', 240 + width, startY);\n      ctx.putImageData(reflectionLeftRight(imgData), width, 0);\n      ctx.fillText('reflectionUpDown + reflectionLeftRight', 240 + width, startY + height);\n      // ctx.putImageData(reflectionUpDown(reflectionLeftRight(imgData)), width, height);\n      ctx.putImageData(compose(reflectionLeftRight, curtain(), mosaic())(imgData), width, height);\n    }, 50);\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./About.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=3cdb18fa&\"\nimport script from \"./About.vue?vue&type=script&lang=ts&\"\nexport * from \"./About.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./About.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}